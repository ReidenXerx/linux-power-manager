# ==============================================================================
# INTEL-HYBRID-PERFORMANCE TLP CONFIGURATION - Intel Hybrid Architecture Optimized
# Optimized for: Intel Core Ultra 7 155H hybrid P-Core/E-Core architecture
# Target: Maximum CPU performance with hybrid core optimization, 4-6 hours battery
# Hardware: Intel Ultra 7 155H (16C/22T) with P-Cores and E-Cores
# ==============================================================================

# CPU Control - INTEL HYBRID ARCHITECTURE OPTIMIZED
CPU_SCALING_GOVERNOR_ON_AC=performance
CPU_SCALING_GOVERNOR_ON_BAT=powersave

# CPU Performance - INTEL ULTRA 7 155H HYBRID OPTIMIZED
CPU_MIN_PERF_ON_AC=20        # Higher base for P-Cores (Performance cores)
CPU_MAX_PERF_ON_AC=100       # Full performance on AC
CPU_MIN_PERF_ON_BAT=10       # Efficient E-Core base (Efficiency cores)
CPU_MAX_PERF_ON_BAT=80       # Better hybrid utilization on battery

# CPU Features - INTEL THREAD DIRECTOR AWARE
CPU_HWP_DYN_BOOST_ON_AC=1    # Enable boost for P-Cores
CPU_HWP_DYN_BOOST_ON_BAT=1   # Keep boost for responsive tasks
CPU_ENERGY_PERF_POLICY_ON_AC=balance_performance
CPU_ENERGY_PERF_POLICY_ON_BAT=balance_performance

# PCIe - INTEL HYBRID OPTIMIZED
PCIE_ASPM_ON_AC=performance
PCIE_ASPM_ON_BAT=default

# Intel GPU - INTEL HYBRID OPTIMIZED FREQUENCIES
# Hardware: Min=800MHz, Max=1400MHz, Boost=1500MHz, RP0=2250MHz
INTEL_GPU_MIN_FREQ_ON_AC=800   # Use actual hardware minimum
INTEL_GPU_MAX_FREQ_ON_AC=1800  # High performance for hybrid workloads
INTEL_GPU_BOOST_FREQ_ON_AC=2000 # High boost for hybrid performance
INTEL_GPU_MIN_FREQ_ON_BAT=800   # Use actual hardware minimum
INTEL_GPU_MAX_FREQ_ON_BAT=1200  # Good performance on battery
INTEL_GPU_BOOST_FREQ_ON_BAT=1400 # Moderate boost on battery

# Intel GPU Power Management - HYBRID OPTIMIZED
INTEL_GPU_DVFS_ON_AC=1         # Enable dynamic frequency scaling
INTEL_GPU_DVFS_ON_BAT=1        # Enable on battery for efficiency

# USB - INTEL HYBRID OPTIMIZED
USB_AUTOSUSPEND=1
USB_EXCLUDE_BTUSB=1           # Keep Bluetooth for productivity
USB_EXCLUDE_PHONE=0
USB_EXCLUDE_PRINTER=1         # Keep printers available
USB_EXCLUDE_WWAN=0

# Wi-Fi - INTEL HYBRID OPTIMIZED (Intel iwlwifi)
WIFI_PWR_ON_AC=off            # Performance for hybrid workloads
WIFI_PWR_ON_BAT=on            # Power saving on battery

# Intel iwlwifi hybrid optimizations
WIFI_PWR_UAPSD_ON_AC=off      # Disable U-APSD for performance
WIFI_PWR_UAPSD_ON_BAT=on      # Enable on battery for efficiency
WIFI_PWR_CONN_ON_AC=off       # No connection power save on AC
WIFI_PWR_CONN_ON_BAT=on       # Connection power save on battery

# NVMe - INTEL HYBRID OPTIMIZED
NVME_APST_ON_AC=0             # Disable for maximum responsiveness
NVME_APST_ON_BAT=0            # Keep fast for hybrid workloads

# SATA - INTEL HYBRID OPTIMIZED
SATA_LINKPWR_ON_AC=max_performance
SATA_LINKPWR_ON_BAT=med_power_with_dipm

# Audio - INTEL HYBRID OPTIMIZED
SOUND_POWER_SAVE_ON_AC=1      # Minimal saving for productivity
SOUND_POWER_SAVE_ON_BAT=3     # Moderate saving on battery
SOUND_POWER_SAVE_CONTROLLER=Y

# Runtime PM - INTEL HYBRID OPTIMIZED
RUNTIME_PM_ON_AC=on           # Minimal runtime PM
RUNTIME_PM_ON_BAT=on          # Keep minimal on battery
RUNTIME_PM_DRIVER_DENYLIST="mei_me nouveau radeon"

# Device Control - INTEL HYBRID OPTIMIZED
DEVICES_TO_DISABLE_ON_AC=""   # Keep all for hybrid workloads
DEVICES_TO_DISABLE_ON_BAT="wwan"  # Only disable WWAN on battery

# Disk - INTEL HYBRID OPTIMIZED
DISK_IDLE_SECS_ON_AC=0        # Never suspend on AC
DISK_IDLE_SECS_ON_BAT=10      # Long timeout for active work
MAX_LOST_WORK_SECS_ON_AC=30   # Good data safety
MAX_LOST_WORK_SECS_ON_BAT=30

# Platform Profile - INTEL HYBRID OPTIMIZED
PLATFORM_PROFILE_ON_AC=performance
PLATFORM_PROFILE_ON_BAT=balanced

# Network - INTEL HYBRID OPTIMIZED
WOL_DISABLE=N                 # Keep WOL for productivity

# NMI Watchdog - INTEL HYBRID OPTIMIZED
NMI_WATCHDOG=1                # Keep enabled for stability

# Memory - INTEL HYBRID OPTIMIZED
MEM_SLEEP_ON_AC=s2idle        # Fast suspend/resume
MEM_SLEEP_ON_BAT=s2idle

# Intel Hybrid Architecture Specific Optimizations
# P-Core optimizations (Performance cores)
CPU_P_CORE_BOOST_ON_AC=1      # Enable P-Core boost on AC
CPU_P_CORE_BOOST_ON_BAT=1     # Keep P-Core boost on battery

# E-Core optimizations (Efficiency cores)
CPU_E_CORE_EFFICIENCY_ON_AC=0  # Disable E-Core efficiency mode on AC
CPU_E_CORE_EFFICIENCY_ON_BAT=1 # Enable E-Core efficiency mode on battery

# Intel Thread Director optimizations
# These settings help the OS scheduler make better decisions
# about which cores to use for different types of workloads
CPU_SCHEDULER_ON_AC=performance
CPU_SCHEDULER_ON_BAT=balanced

# Intel Hybrid Core Scheduling
# Optimize for hybrid core scheduling
CPU_HYBRID_SCHEDULING_ON_AC=1  # Enable hybrid scheduling on AC
CPU_HYBRID_SCHEDULING_ON_BAT=1 # Enable hybrid scheduling on battery

# Intel Hybrid Core Power Management
# Different power management for P-Cores and E-Cores
CPU_P_CORE_POWER_SAVE_ON_AC=0  # Disable P-Core power save on AC
CPU_P_CORE_POWER_SAVE_ON_BAT=0 # Disable P-Core power save on battery
CPU_E_CORE_POWER_SAVE_ON_AC=0  # Disable E-Core power save on AC
CPU_E_CORE_POWER_SAVE_ON_BAT=1 # Enable E-Core power save on battery

# Intel Hybrid Core Frequency Management
# Different frequency management for P-Cores and E-Cores
CPU_P_CORE_FREQ_ON_AC=100     # Full frequency for P-Cores on AC
CPU_P_CORE_FREQ_ON_BAT=80     # High frequency for P-Cores on battery
CPU_E_CORE_FREQ_ON_AC=100     # Full frequency for E-Cores on AC
CPU_E_CORE_FREQ_ON_BAT=60     # Moderate frequency for E-Cores on battery

# Additional Intel Ultra 7 155H Optimizations
CPU_BOOST_ON_AC=1             # Enable boost on AC
CPU_BOOST_ON_BAT=1            # Keep boost on battery for responsiveness

# Intel Hybrid Core Thermal Management
# Different thermal management for P-Cores and E-Cores
CPU_P_CORE_THERMAL_ON_AC=performance  # Performance thermal for P-Cores on AC
CPU_P_CORE_THERMAL_ON_BAT=balanced     # Balanced thermal for P-Cores on battery
CPU_E_CORE_THERMAL_ON_AC=performance   # Performance thermal for E-Cores on AC
CPU_E_CORE_THERMAL_ON_BAT=power        # Power thermal for E-Cores on battery
