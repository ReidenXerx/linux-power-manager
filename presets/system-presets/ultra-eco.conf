# ==============================================================================
# ULTRA-ECO TLP CONFIGURATION - Maximum Power Savings with Intel Optimizations
# Optimized for: Intel Core Ultra 7 155H + Intel Arc Graphics maximum power savings
# Target: 8-12+ hours battery life, office work, reading, light browsing
# Hardware: Intel Arc Graphics (800-2250MHz), Intel Ultra 7 155H (16C/22T)
# ==============================================================================

# CPU Control - INTEL ULTRA CONSERVATIVE
CPU_SCALING_GOVERNOR_ON_AC=powersave
CPU_SCALING_GOVERNOR_ON_BAT=powersave

# CPU Performance - INTEL ULTRA CONSERVATIVE (REFINED)
CPU_MIN_PERF_ON_AC=5         # Minimum base performance
CPU_MAX_PERF_ON_AC=50        # Better AC performance (was 25)
CPU_MIN_PERF_ON_BAT=0        # Lowest for maximum battery
CPU_MAX_PERF_ON_BAT=30       # Better battery performance (was 10)

# CPU Features - INTEL POWER SAVING (REFINED)
CPU_HWP_DYN_BOOST_ON_AC=1    # Enable boost on AC for responsiveness
CPU_HWP_DYN_BOOST_ON_BAT=0   # Keep disabled on battery
CPU_ENERGY_PERF_POLICY_ON_AC=power
CPU_ENERGY_PERF_POLICY_ON_BAT=power

# PCIe - MAXIMUM POWER SAVING
PCIE_ASPM_ON_AC=powersupersave
PCIE_ASPM_ON_BAT=powersupersave

# Intel Arc Graphics Power Management - ULTRA ECO
INTEL_GPU_POWER_SAVE_ON_AC=1   # Enable power save on AC
INTEL_GPU_POWER_SAVE_ON_BAT=1   # Enable power save on battery

# USB - AGGRESSIVE AUTOSUSPEND
USB_AUTOSUSPEND=1
USB_EXCLUDE_BTUSB=0
USB_EXCLUDE_PHONE=0
USB_EXCLUDE_PRINTER=0
USB_EXCLUDE_WWAN=0

# Wi-Fi - DISABLED (Let power-control system manage WiFi)
# WIFI_PWR_ON_AC=              # Disabled to avoid conflicts
# WIFI_PWR_ON_BAT=             # Disabled to avoid conflicts

# Intel iwlwifi ultra power saving - DISABLED
# All WiFi management delegated to power-control system
# WIFI_PWR_UAPSD_ON_AC=        # Disabled to avoid conflicts
# WIFI_PWR_UAPSD_ON_BAT=       # Disabled to avoid conflicts
# WIFI_PWR_CONN_ON_AC=         # Disabled to avoid conflicts
# WIFI_PWR_CONN_ON_BAT=        # Disabled to avoid conflicts

# NVMe - AGGRESSIVE POWER STATES
NVME_APST_ON_AC=1             # Enable even on AC
NVME_APST_ON_BAT=1

# SATA - MAXIMUM LINK POWER SAVING
SATA_LINKPWR_ON_AC=min_power
SATA_LINKPWR_ON_BAT=min_power

# Audio - AGGRESSIVE POWER SAVING
SOUND_POWER_SAVE_ON_AC=10     # Longer timeout even on AC
SOUND_POWER_SAVE_ON_BAT=10
SOUND_POWER_SAVE_CONTROLLER=Y

# Runtime PM - MAXIMUM SAVINGS
RUNTIME_PM_ON_AC=auto         # Enable runtime PM on AC too
RUNTIME_PM_ON_BAT=auto

# Device Control - DISABLE UNNECESSARY
DEVICES_TO_DISABLE_ON_AC="wwan bluetooth"  # Disable more on AC
DEVICES_TO_DISABLE_ON_BAT="wwan bluetooth"

# Disk - AGGRESSIVE TIMEOUTS
DISK_IDLE_SECS_ON_AC=2        # Quick suspend even on AC
DISK_IDLE_SECS_ON_BAT=2
MAX_LOST_WORK_SECS_ON_AC=15
MAX_LOST_WORK_SECS_ON_BAT=15

# Platform Profile
PLATFORM_PROFILE_ON_AC=low-power
PLATFORM_PROFILE_ON_BAT=low-power

# Network - CONSERVATIVE
WOL_DISABLE=Y

# NMI Watchdog - DISABLED
NMI_WATCHDOG=0

# Memory - EFFICIENT SUSPEND
MEM_SLEEP_ON_AC=deep          # Use deep sleep for maximum savings
MEM_SLEEP_ON_BAT=deep

# Intel Ultra 7 155H Ultra Eco Optimizations
# Note: Custom Intel settings removed - not supported by TLP
# CPU boost is controlled by CPU_HWP_DYN_BOOST settings above

# Intel GPU - POWER EFFICIENT (Auto-detected: Min=100, RPn=800)
# Note: Using Intel's RPn (800MHz) as minimum for efficiency
# Note: Optimized for power efficiency since NVIDIA handles gaming workloads
INTEL_GPU_MIN_FREQ_ON_AC=800
INTEL_GPU_MAX_FREQ_ON_AC=800
INTEL_GPU_BOOST_FREQ_ON_AC=800

INTEL_GPU_MIN_FREQ_ON_BAT=800
INTEL_GPU_MAX_FREQ_ON_BAT=800
INTEL_GPU_BOOST_FREQ_ON_BAT=800

# Intel GPU Power Management - EFFICIENCY FOCUSED
INTEL_GPU_DVFS_ON_AC=1
INTEL_GPU_DVFS_ON_BAT=1
