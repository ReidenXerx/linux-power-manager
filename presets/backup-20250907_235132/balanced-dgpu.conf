# ==============================================================================
# BALANCED-DGPU TLP CONFIGURATION - Balanced with Discrete GPU
# Optimized for: Balanced performance with discrete GPU capabilities
# Target: 3-5 hours battery with dGPU, good performance balance
# ==============================================================================

# CPU Control - BALANCED WITH DGPU SUPPORT
CPU_SCALING_GOVERNOR_ON_AC=powersave
CPU_SCALING_GOVERNOR_ON_BAT=powersave

# CPU Performance - DGPU-OPTIMIZED
CPU_MIN_PERF_ON_AC=10
CPU_MAX_PERF_ON_AC=90       # High performance on AC for dGPU
CPU_MIN_PERF_ON_BAT=5
CPU_MAX_PERF_ON_BAT=40      # Moderate performance on battery

# CPU Features - DGPU-OPTIMIZED
CPU_HWP_DYN_BOOST_ON_AC=1    # Enable boost on AC for dGPU
CPU_HWP_DYN_BOOST_ON_BAT=0   # Disable on battery for efficiency
CPU_ENERGY_PERF_POLICY_ON_AC=balance_performance
CPU_ENERGY_PERF_POLICY_ON_BAT=balance_power

# PCIe - DGPU-OPTIMIZED
PCIE_ASPM_ON_AC=performance
PCIE_ASPM_ON_BAT=powersave

# Intel GPU - DGPU-MODE FREQUENCIES (Hardware: 800-2250MHz)
INTEL_GPU_MIN_FREQ_ON_AC=800  # Use hardware minimum
INTEL_GPU_MAX_FREQ_ON_AC=1600 # Moderate performance (dGPU handles heavy work)
INTEL_GPU_BOOST_FREQ_ON_AC=1800
INTEL_GPU_MIN_FREQ_ON_BAT=800 # Use hardware minimum
INTEL_GPU_MAX_FREQ_ON_BAT=1000 # Low performance on battery
INTEL_GPU_BOOST_FREQ_ON_BAT=1200

# USB - STANDARD AUTOSUSPEND
USB_AUTOSUSPEND=1
USB_EXCLUDE_BTUSB=0
USB_EXCLUDE_PHONE=0
USB_EXCLUDE_PRINTER=0
USB_EXCLUDE_WWAN=0

# Wi-Fi - BALANCED
WIFI_PWR_ON_AC=off           # Performance on AC
WIFI_PWR_ON_BAT=on           # Power saving on battery

# Intel iwlwifi balanced optimizations
WIFI_PWR_UAPSD_ON_AC=off     # Disable U-APSD on AC
WIFI_PWR_UAPSD_ON_BAT=on     # Enable on battery
WIFI_PWR_CONN_ON_AC=off      # No connection power save on AC
WIFI_PWR_CONN_ON_BAT=on      # Connection power save on battery

# NVMe - BALANCED
NVME_APST_ON_AC=0            # Performance on AC
NVME_APST_ON_BAT=1           # Power saving on battery

# SATA - BALANCED
SATA_LINKPWR_ON_AC=max_performance
SATA_LINKPWR_ON_BAT=med_power_with_dipm

# Audio - BALANCED
SOUND_POWER_SAVE_ON_AC=1     # Moderate saving on AC
SOUND_POWER_SAVE_ON_BAT=5    # Higher saving on battery
SOUND_POWER_SAVE_CONTROLLER=Y

# Runtime PM - BALANCED
RUNTIME_PM_ON_AC=on
RUNTIME_PM_ON_BAT=auto

# Device Control - STANDARD
DEVICES_TO_DISABLE_ON_AC=""  # Don't disable anything on AC
DEVICES_TO_DISABLE_ON_BAT="wwan"  # Only disable WWAN on battery

# Disk - BALANCED
DISK_IDLE_SECS_ON_AC=0       # Never suspend on AC
DISK_IDLE_SECS_ON_BAT=5      # Quick suspend on battery
MAX_LOST_WORK_SECS_ON_AC=30  # Good data safety
MAX_LOST_WORK_SECS_ON_BAT=30

# Platform Profile
PLATFORM_PROFILE_ON_AC=performance
PLATFORM_PROFILE_ON_BAT=balanced

# Network - STANDARD
WOL_DISABLE=Y

# NMI Watchdog - ENABLED
NMI_WATCHDOG=1

# Memory - BALANCED SUSPEND
MEM_SLEEP_ON_AC=s2idle       # Fast suspend/resume
MEM_SLEEP_ON_BAT=s2idle

# Additional DGPU Optimizations
CPU_BOOST_ON_AC=1
CPU_BOOST_ON_BAT=0           # Disable boost on battery
